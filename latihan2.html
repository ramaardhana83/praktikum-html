<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>My Daily Journal</title>
    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <!-- Bootstrap Icons -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css"
    />
    <link rel="icon" href="img/logo.png" />
    <style>
      body {
        font-family: "Arial", sans-serif;
        transition: all 0.3s ease;
      }
      #hero,
      #gallery {
        background-color: #f8d7da;
      }
      .gallery-carousel .carousel-item img {
        width: 100%;
        height: 500px;
        object-fit: cover;
        border-radius: 8px;
      }
      .gallery-carousel {
        max-width: 900px;
        margin: 0 auto;
      }
      @media (max-width: 768px) {
        .gallery-carousel .carousel-item img {
          height: 300px;
        }
      }

      /* TAMBAHAN UNTUK DARK MODE */
      body.dark-mode {
        background-color: #121212;
        color: #f8f9fa;
      }
      body.dark-mode #hero,
      body.dark-mode #gallery {
        background-color: #1a1a1a !important;
      }
      body.dark-mode .card {
        background-color: #2d2d2d;
        color: #f8f9fa;
        border-color: #444;
      }
      body.dark-mode .card-footer small {
        color: #b3b3b3 !important;
      }
      body.dark-mode footer,
      body.dark-mode footer a {
        background-color: #1a1a1a !important;
        color: white !important;
      }
    </style>
  </head>
  <body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg sticky-top bg-light">
      <div class="container">
        <a class="navbar-brand fw-bold" href="#">FoodQuest</a>
        <ul class="navbar-nav ms-auto text-dark">
          <li class="nav-item"><a class="nav-link" href="#">Home</a></li>
          <li class="nav-item">
            <a class="nav-link" href="#article">Article</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#gallery">Gallery</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#todo-list">Form</a>
          </li>
          <!-- TAMBAHAN THEME SWITCHER -->
          <li class="nav-item ms-2">
            <button class="btn btn-sm btn-light" id="lightMode">
              <i class="bi bi-sun-fill"></i> Light
            </button>
          </li>
          <li class="nav-item ms-2">
            <button class="btn btn-sm btn-dark" id="darkMode">
              <i class="bi bi-moon-fill"></i> Dark
            </button>
          </li>
        </ul>
      </div>
    </nav>

    <!-- Hero Section -->
    <section id="hero" class="text-center p-5">
      <div class="container">
        <div class="d-sm-flex flex-sm-row-reverse align-items-center">
          <img
            src="https://plus.unsplash.com/premium_photo-1672363353881-68c8ff594e25?q=80&w=1374&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"
            class="img-fluid"
            width="300"
            alt="Hero Image"
          />
          <div class="text-sm-start">
            <h1 class="fw-bold display-4">
              From Street Stalls to Michelin Stars
            </h1>
            <h4 class="lead display-6">
              Celebrating food in all its glorious forms, Chronicling delicious
              adventures across continents
            </h4>
            <!-- TAMBAHAN DIGITAL CLOCK -->
            <div class="mt-3 fw-bold">
              <span id="tanggal"></span>
              <span id="jam" class="ms-2"></span>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Article Section -->
    <section id="article" class="text-center p-5">
      <div class="container">
        <h1 class="fw-bold display-4 pb-3">Article</h1>
        <div class="row justify-content-center">
          <div class="row row-cols-1 row-cols-md-3 g-4 justify-content-center">
            <div class="col">
              <div class="card h-100">
                <img
                  src="https://images.unsplash.com/photo-1680674774705-90b4904b3a7f?q=80&w=1470&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"
                  class="card-img-top"
                  alt="..."
                />
                <div class="card-body">
                  <h5 class="card-title">Jakarta's Best Nasi Goreng</h5>
                  <p class="card-text">
                    We tasted 20 versions to find the ultimate fried rice in the
                    capital.
                  </p>
                </div>
                <div class="card-footer">
                  <small class="text-body-secondary"
                    >Last updated 3 mins ago</small
                  >
                </div>
              </div>
            </div>
            <div class="col">
              <div class="card h-100">
                <img
                  src="https://plus.unsplash.com/premium_photo-1661587773030-ad4df53c7992?q=80&w=1471&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"
                  class="card-img-top"
                  alt="..."
                />
                <div class="card-body">
                  <h5 class="card-title">Homemade Pasta Guide</h5>
                  <p class="card-text">
                    Step-by-step tutorial for authentic Italian pasta from
                    scratch.
                  </p>
                </div>
                <div class="card-footer">
                  <small class="text-body-secondary"
                    >Last updated 3 mins ago</small
                  >
                </div>
              </div>
            </div>
            <div class="col">
              <div class="card h-100">
                <img
                  src="https://plus.unsplash.com/premium_photo-1673581152365-788c26c1dad1?q=80&w=1471&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"
                  class="card-img-top"
                  alt="..."
                />
                <div class="card-body">
                  <h5 class="card-title">Vegan Desserts That Wow</h5>
                  <p class="card-text">
                    Indulge guilt-free with these plant-based sweet treats.
                  </p>
                </div>
                <div class="card-footer">
                  <small class="text-body-secondary"
                    >Last updated 3 mins ago</small
                  >
                </div>
              </div>
            </div>
            <div class="col">
              <div class="card h-100">
                <img
                  src="https://plus.unsplash.com/premium_photo-1664298216218-ff8dfd7719ac?q=80&w=1470&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"
                  class="card-img-top"
                  alt="..."
                />
                <div class="card-body">
                  <h5 class="card-title">Taiwanese Bubble Tea Showdown</h5>
                  <p class="card-text">
                    Comparing 10 brands—which one deserves your sugar rush?
                  </p>
                </div>
                <div class="card-footer">
                  <small class="text-body-secondary"
                    >Last updated 3 mins ago</small
                  >
                </div>
              </div>
            </div>
            <div class="col">
              <div class="card h-100">
                <img
                  src="https://plus.unsplash.com/premium_photo-1661611585910-77ae42f0c71d?q=80&w=1374&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"
                  class="card-img-top"
                  alt="..."
                />
                <div class="card-body">
                  <h5 class="card-title">Bangkok's Best Pad Thai</h5>
                  <p class="card-text">
                    5 warungs near Khao San Road with explosive flavors under 50
                    baht.
                  </p>
                </div>
                <div class="card-footer">
                  <small class="text-body-secondary"
                    >Last updated 3 mins ago</small
                  >
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Gallery Section -->
    <section id="gallery" class="bg-danger-subtle text-center p-5">
      <div class="container">
        <h1 class="fw-bold display-4 pb-3">Gallery</h1>
        <div
          id="carouselExample"
          class="carousel slide gallery-carousel"
          data-bs-ride="carousel"
        >
          <div class="carousel-inner">
            <div class="carousel-item active">
              <img
                src="https://plus.unsplash.com/premium_photo-1661611585910-77ae42f0c71d?q=80&w=1374&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"
                class="d-block w-100"
                alt="Gallery Image 1"
              />
            </div>
            <div class="carousel-item">
              <img
                src="https://images.unsplash.com/photo-1680674774705-90b4904b3a7f?q=80&w=1470&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"
                class="d-block w-100"
                alt="Gallery Image 2"
              />
            </div>
            <div class="carousel-item">
              <img
                src="https://plus.unsplash.com/premium_photo-1664298216218-ff8dfd7719ac?q=80&w=1470&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"
                class="d-block w-100"
                alt="Gallery Image 3"
              />
            </div>
          </div>
          <button
            class="carousel-control-prev"
            type="button"
            data-bs-target="#carouselExample"
            data-bs-slide="prev"
          >
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
          </button>
          <button
            class="carousel-control-next"
            type="button"
            data-bs-target="#carouselExample"
            data-bs-slide="next"
          >
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
          </button>
        </div>
      </div>
    </section>

    <section id="todo-list" class="container my-5">
      <div class="card shadow-sm">
        <div class="card-body p-4">
          <h2 class="mb-4 text-center">
            <i class="bi bi-check2-square"></i> To-Do List Manager
          </h2>

          <div class="row">
            <!-- Kolom Kiri -->
            <div class="col-md-5 border-end pe-4">
              <p class="lead">
                Fitur ini memungkinkan Anda mengelola kegiatan harian secara
                efisien.
              </p>
              <ul class="list-group list-group-flush">
                <li class="list-group-item d-flex align-items-center">
                  <i class="bi bi-plus-circle-fill text-primary me-2"></i>
                  <span>Tambah kegiatan baru</span>
                </li>
                <li class="list-group-item d-flex align-items-center">
                  <i class="bi bi-calendar-check text-success me-2"></i>
                  <span>Atur deadline</span>
                </li>
                <li class="list-group-item d-flex align-items-center">
                  <i class="bi bi-pencil-square text-warning me-2"></i>
                  <span>Edit/hapus kegiatan</span>
                </li>
              </ul>
            </div>

            <!-- Kolom Kanan -->
            <div class="col-md-7 ps-4">
              <!-- Form Input -->
              <div class="mb-4">
                <h4><i class="bi bi-plus-lg"></i> Tambah Kegiatan</h4>
                <form id="todoForm" class="needs-validation" novalidate>
                  <div class="mb-3">
                    <label class="form-label">Nama Kegiatan:</label>
                    <input
                      type="text"
                      class="form-control form-control-lg"
                      id="namaKegiatan"
                      required
                    />
                  </div>
                  <div class="row">
                    <div class="col-md-8 mb-3">
                      <label class="form-label">Tanggal:</label>
                      <input
                        type="date"
                        class="form-control"
                        id="tglKegiatan"
                        required
                      />
                    </div>
                    <div class="col-md-4 d-flex align-items-end mb-3">
                      <button type="submit" class="btn btn-primary w-100">
                        <i class="bi bi-save"></i> Simpan
                      </button>
                    </div>
                  </div>
                  <input type="hidden" id="editIndex" value="-1" />
                </form>
              </div>

              <!-- Tabel -->
              <div>
                <h4 class="d-flex justify-content-between align-items-center">
                  <span><i class="bi bi-list-task"></i> Daftar Kegiatan</span>
                </h4>
                <div class="table-responsive">
                  <table class="table table-hover align-middle">
                    <thead class="table-light">
                      <tr>
                        <th style="width: 10%">No</th>
                        <th style="width: 35%">Kegiatan</th>
                        <th style="width: 25%">Tanggal</th>
                        <th style="width: 10%">Selesai</th>
                        <th style="width: 20%">Aksi</th>
                      </tr>
                    </thead>
                    <tbody id="todoTable" class="table-group-divider"></tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="text-center p-5">
      <div class="h2 p-2">
        <a href="#" class="text-dark"><i class="bi bi-instagram"></i></a>
        <a href="#" class="text-dark"><i class="bi bi-twitter"></i></a>
        <a href="#" class="text-dark"><i class="bi bi-whatsapp"></i></a>
      </div>
      <div>© 2025 FoodQuest. Eat • Explore • Enjoy.</div>
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

    <!-- TAMBAHAN JAVASCRIPT -->
    <script>
      window.setTimeout("tampilWaktu()", 1000);
      function tampilWaktu() {
        var waktu = new Date();
        var bulan = waktu.getMonth() + 1;

        setTimeout("tampilWaktu()", 1000);
        document.getElementById("tanggal").innerHTML =
          waktu.getDate() + "/" + bulan + "/" + waktu.getFullYear();
        document.getElementById("jam").innerHTML =
          waktu.getHours() +
          ":" +
          waktu.getMinutes() +
          ":" +
          waktu.getSeconds();
      }

      // Ganti Tema
      document.getElementById("darkMode").addEventListener("click", () => {
        document.body.classList.add("dark-mode");
        localStorage.setItem("theme", "dark");
      });

      document.getElementById("lightMode").addEventListener("click", () => {
        document.body.classList.remove("dark-mode");
        localStorage.setItem("theme", "light");
      });

      // Check saved theme
      if (localStorage.getItem("theme") === "dark") {
        document.body.classList.add("dark-mode");
      }

      // Data Storage
      let todos = JSON.parse(localStorage.getItem("todos")) || [];
      let currentEditIndex = -1;

      // Inisialisasi
      document.addEventListener("DOMContentLoaded", () => {
        renderTodoList();

        // Dark Mode
        if (document.body.classList.contains("dark-mode")) {
          document.querySelectorAll("#todo-list .card").forEach((card) => {
            card.classList.add("bg-dark", "text-white");
          });
          document
            .querySelectorAll("#todo-list .list-group-item")
            .forEach((item) => {
              item.classList.add("bg-secondary", "text-white");
            });
        }
      });

      // Form
      document.getElementById("todoForm").addEventListener("submit", (e) => {
        e.preventDefault();

        const namaKegiatan = document.getElementById("namaKegiatan").value;
        const tglKegiatan = document.getElementById("tglKegiatan").value;
        const editIndex = parseInt(document.getElementById("editIndex").value);

        if (editIndex >= 0) {
          // Edit kegiatan yang sudah ada
          todos[editIndex] = {
            name: namaKegiatan,
            date: formatDate(tglKegiatan),
            done: todos[editIndex].done,
          };
        } else {
          // Add kegiatan baru
          todos.push({
            name: namaKegiatan,
            date: formatDate(tglKegiatan),
            done: false,
          });
        }

        saveToLocalStorage();
        resetForm();
        renderTodoList();
      });

      function formatDate(dateString) {
        if (dateString.includes("-")) {
          // Format YYYY-MM-DD
          const [year, month, day] = dateString.split("-");
          const monthNames = [
            "Januari",
            "Februari",
            "Maret",
            "April",
            "Mei",
            "Juni",
            "Juli",
            "Agustus",
            "September",
            "Oktober",
            "November",
            "Desember",
          ];
          return `${parseInt(day)} ${monthNames[parseInt(month) - 1]} ${year}`;
        }
        return dateString; // Jika sudah dalam format locale
      }

      function renderTodoList() {
        const tableBody = document.getElementById("todoTable");
        tableBody.innerHTML = "";

        todos.forEach((todo, index) => {
          const row = document.createElement("tr");

          if (document.body.classList.contains("dark-mode")) {
            row.classList.add("text-white");
          }

          row.innerHTML = `
                <td>${index + 1}</td>
                <td>${todo.name}</td>
                <td>${todo.date}</td>
                <td>
                    <input type="checkbox" ${todo.done ? "checked" : ""} 
                        onclick="toggleDone(${index})">
                </td>
                <td>
                    <button class="btn btn-sm btn-warning me-2" 
                        onclick="editTodo(${index})">
                        <i class="bi bi-pencil"></i>
                    </button>
                    <button class="btn btn-sm btn-danger" 
                        onclick="deleteTodo(${index})">
                        <i class="bi bi-trash"></i>
                    </button>
                </td>
            `;

          if (todo.done) {
            row.style.textDecoration = "line-through";
            row.style.opacity = "0.7";
          }

          tableBody.appendChild(row);
        });
      }

      function toggleDone(index) {
        todos[index].done = !todos[index].done;
        saveToLocalStorage();
        renderTodoList();
      }

      function editTodo(index) {
        const todo = todos[index];
        document.getElementById("namaKegiatan").value = todo.name;

        // Parse dari format "01 Januari 2025"
        const [day, monthName, year] = todo.date.split(" ");
        const monthMap = {
          Januari: "01",
          Februari: "02",
          Maret: "03",
          April: "04",
          Mei: "05",
          Juni: "06",
          Juli: "07",
          Agustus: "08",
          September: "09",
          Oktober: "10",
          November: "11",
          Desember: "12",
        };

        document.getElementById("tglKegiatan").value = `${year}-${
          monthMap[monthName]
        }-${day.padStart(2, "0")}`;

        document.getElementById("editIndex").value = index;
      }

      function deleteTodo(index) {
        if (confirm("Apakah Anda yakin ingin menghapus item ini?")) {
          todos.splice(index, 1);
          saveToLocalStorage();
          renderTodoList();
        }
      }

      function resetForm() {
        document.getElementById("todoForm").reset();
        document.getElementById("editIndex").value = "-1";
      }

      function saveToLocalStorage() {
        localStorage.setItem("todos", JSON.stringify(todos));
      }

      window.toggleDone = toggleDone;
      window.editTodo = editTodo;
      window.deleteTodo = deleteTodo;
    </script>
  </body>
</html>
